language: java
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
script:
- "./gradlew build"
deploy:
- provider: script
  script: "./gradlew bintrayUpload"
  skip_cleanup: true
  on:
    repo: hmcts/sscs-common
    tags: true
- provider: releases
  api_key:
    secure: m1tGlk4SAw4skqwyOp2R+RCfPVgtT2AFnVAdkaylDlEyqZfT/I0QcmNuHiN52ChweecX5wG5qAhPtgu+zfIHavciwn48wh3fFgKq6hVW4pELnsP3Ow2plMr0xgetklTfHDkFii7Nl9U7AGKXM9PNAQIuU5MiwZISQS0oc/cnlgrsgM9ON7V3xYiQG4LoMoZ/8K3hlaGspBiVuBnaF0pp7CfiBU8Q7sQRhyQf39gC/2gBUH8Wi6rBiXkOOGMioJm5tk0g5RSoojp+po7kBinqNjffjZSq15BgbQxjwnuNxOaMRi8vM4lVR2ta/0rQlkb4mvKpJ33UezcIs3HLkZUV13yU7vmalxJrDAVC9+IQy9P7o0B29T63orqPyHgQGEdySvhi75QyK/ii/sOY7zI9akM31na3Aujd+bjUQp0ZaowC5q8Eg/t40KQJ2Xr+qeIGO0nUvXvGYE1ikm3a1OEET6Gtn77xKSMfpK6gsR7yuKwNXii5GXko7xN+27Li6+BODxUOVost04DutLuZCDmhYfP+hwT8R0JIn3One1i4ZI5bKYu2QQODrsYU8gqzElcOXENJuBwGM6ZmdFURdwuuLzkwXlMXZsALx6RTVItiyljfH2jwZifuLiZb3GDE1lrGWvkyWlnp17jbujMhxVqN2M1ssnZ6rHKI9NgCdl7nzEw=
  file: build/libs/sscs-common-*.jar
  file_glob: true
  skip_cleanup: true
  on:
    repo: hmcts/sscs-common
    tags: true
env:
  global:
  - secure: B5lreBepYCfPu1WQKmj/DM0wnrZ32HKeSiQ4PoayAPMN5F/AVOb/tlSxvrpr9w9Bra4Y0zgnWjCyfSbfVEaP1boplmzmyz9CBYYT5N0l5RzwNdFvbjKw4stQLx8bmYOTs/8OyJpTOxm/8YMSptrCt4HOrs1/mPw3Yn3KeyCpy4zPXPe77QhBQwCaF4xZvBhsNdbEFQDztVcOQO7ArNX303TVye6CK9RURlJd4WeDnDiO6Hg0IwP0UE/coRytofwrfTRIUFCnSIi31McfnWxziQx0zI8gM3TlqypfDeDNSkJvRbgndwJKeOMINWkg/H2r5YOiCcQKnrFNtUHbX2RsR9RjBofL6GWREgDlkhmNH1vvSuAWCkNBd1XjZ/iUzDmkbCsvghmwNJXs4RLhdoIQm3oVlZNBEy7pdz6RCz2wD/vHv/jwZQ+m75OeMHBcVOur656FJF8JN/v4Ft1n6O4EtAmWigL3Z3IOWMiXlapDG9scFCyY/hGPnzzWmcGNKu+Edb6RYGaRlon2DSI61mxd9N3LGN9mnD2obLZKyvkMcO3BnRzd/atAddhbCpV3DEqKziYAjNaRqVGzAuxWkRnyo+k0I2w9jvZNbDrJKcQi2Pg5HIEX74fJfIt7fWuDLU4YZLLj1y/9hiQ6hn6ytsBiFPb1aBBYwm1x6dSgfMHvnj0=
  - secure: Ny20/tEfiO8CqrP8UbUOBubt4Mmc4ewMuVdLqb6Gyeh41W86U39DS7dK9XHMLaFnUl1INfHsA5ZWIP+G7w1nbOb1Y0DyxyBu8BDKtHg8kA2Q+bRVD6yATxxLTn52zFq2WnnlCYySVo3IUye9YHq/Eeg7ql9cpkyMgbD+NKwCLfQDbt32U+E06Yl06HrjZ8qJsCKKWxoz8KXRBIHgCwFJ2lfrcDYctL+2VguFYReuNS9gLAqO1tLAGvIbQQqPDWN7eoAQ+mzUBCmwmZsRWiHTodJoKPuy1xJQA4jeT8U8XpdY0fXNEnV7F/5XNZhEn+PJ5oN8Z5kofzyuLSgwTUYfaD1VWVR/FVwevo6e1RoWgAj7lnQ2ul+uDlPNNjSWa0GnMoKy26ojwbYp/Y/X6vkWzVnot/hDwyr7oqUOApOKmSE03eNN+sNg68pG7Bm9ZwcdOMh1DcUSlgUZfKEaf54vN8RSajLM3Y+0/3h981Rzp4CnfrblAfKso9rq5ahV0vlK0SFMaWU0d+ZZMI8akefNjsYT/aE6Ha4wy8HDkPASsdbTyw/7H2dJJ+HMdgQDJET4hAmalm+0aZ0SSdjhAjLLhWlOBHLZuk/5b/2ua90ZwGknFZZUoO8boY0REX3Do/50Hr//PHvKI3d9wEen4ya4N5zw66+RfKz9fdEH9dghPj4=
